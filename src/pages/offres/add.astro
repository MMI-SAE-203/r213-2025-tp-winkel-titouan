---
let message = "";
if (Astro.request.method === "POST") {
    const formData = await Astro.request.formData();
    const response = await addOffre(formData);
    message = response.message;
}
import { addOffre } from "../../backend.mjs";
---

<h1 class="text-lg">Ajouter une offre</h1>
<form action="/offres/add" method="POST" enctype="multipart/form-data">
    <input
        type="text"
        name="nom_maison"
        placeholder="Nom de la maison"
        required
        class="w-full mt-2 p-2 border border-gray-300 rounded-md"
    />
    <input type="number" name="prix" placeholder="Prix" />
    <input
        type="number"
        name="nombre_salles_de_bain"
        placeholder="Nombre de salles de bain"
    />
    <input
        type="number"
        name="nombre_chambres"
        placeholder="Nombre de chambres"
    />
    <input
        type="text"
        name="adresse"
        placeholder="Adresse"
    />
    <input type="number" name="superficie" placeholder="Superficie" />
    <input type="file" name="photo_maison" />
    <button type="submit">Ajouter</button>
</form>
